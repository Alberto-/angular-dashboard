app.factory("widgetCircleService",["$http",function(e){var t=["success","medium","warning","error"];return{getInfo:function(){return e.get("./app/widgets/widgetCirlcePercentage/details.json")},checkLevel:function(e){return function(e){switch(!0){case e>=75:return t[0];case e>=50&&e<75:return t[1];case e>=25&&e<50:return t[2];case e<25:return t[3];default:return t[1]}}(e)}}}]),app.factory("widgetMapFactory",["$http",function(e){var t=[["Cagliari",39.223841,9.121661,1,"preferite"],["San Francisco",37.774929,-122.419416,2,null],["San Diego",32.715738,-117.161084,3,null],["Los Angeles",34.052234,-118.243685,4,null]];return{getLocations:function(){return t}}}]),app.factory("widgetTileService",["$http",function(e){return{getInfo:function(){return e.get("./app/widgets/widgetTile/details.json")}}}]),app.factory("widgetDoughnutService",["$http",function(e){return labels=["Total Active","Total Not Active","Total Cancelled","Total Terminated"],colors=["#8ac249","#ffeb3b","#fe9700","#f34236"],{getInfo:function(){return e.get("./app/widgets/widgetsChart/widgetDoughnut/details.json")},getLabels:function(){return labels},getColors:function(){return colors}}}]),app.factory("widgetBarService",["$http",function(e){return labels=["Customers","Leads"],{getInfo:function(){return e.get("./app/widgets/widgetsChart/widgetBar/details.json")},getLabels:function(){return labels}}}]),app.factory("widgetDoughnutMService",["$http",function(e){return{getInfo:function(){return e.get("./app/widgets/widgetsChart/widgetDoughnutM/details.json")}}}]),app.factory("widgetLineService",["$http",function(e){return{getInfo:function(){return e.get("./app/widgets/widgetsChart/widgetLine/details.json")}}}]),app.factory("widgetGaugeService",["$http",function(e){return{getInfo:function(){return e.get("./app/widgets/widgetsChart/widgetGauge/details.json")}}}]),app.controller("widgetCircleController",["$scope","$rootScope","$http","$compile","widgetCircleService",function(e,t,r,o,i){i.getInfo().success(function(t){e.json=t[e.widgetcode],e.percentage=e.json.percentage,e.description=e.json.description,e.title=e.json.title,e.colorBar=i.checkLevel(e.percentage)}).error(function(t){console.error("error loading windget Circle: "+e.widgetcode)})}]),app.controller("widgetMapsController",["$scope","$rootScope","$http","$compile","widgetMapFactory",function(e,t,r,o,i){e.title="Headquarters Map";var n=i.getLocations();!function(e){for(var t={url:"assets/img/map-marker-icon-32.png",size:new google.maps.Size(32,32),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(16,32)},r={url:"assets/img/heart32.png",size:new google.maps.Size(32,32),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(16,32)},o=0;o<n.length;o++){var i=n[o];"preferite"===i[4]?new google.maps.Marker({position:{lat:i[1],lng:i[2]},map:e,icon:r,title:i[0],zIndex:i[3]}):new google.maps.Marker({position:{lat:i[1],lng:i[2]},map:e,icon:t,title:i[0],zIndex:i[3]})}}(new google.maps.Map(document.getElementById("map"),{zoom:5,center:{lat:36.778261,lng:-119.417932},scrollwheel:!1}))}]),app.controller("widgetTileController",["$scope","$rootScope","$http","$compile","widgetTileService",function(e,t,r,o,i){i.getInfo().success(function(t){e.json=t[e.widgetcode],e.title=e.json.title,e.description=e.json.description,e.total=e.json.value}).error(function(t){console.error("error loading windget Tile: "+e.widgetcode)})}]);var API_KEY="YOUR_API_KEY";app.controller("widgetWeatherController",["$scope","$rootScope","$http","$compile",function(e,t,r,o){e.title="Weather";var i=37.774929,n=-122.419416;r.get("http://api.openweathermap.org/data/2.5/weather?lat="+i+"&lon="+n+"&appid="+API_KEY).success(function(t){var r=JSON.parse(JSON.stringify(t));e.temperature=r.main.temp,e.code=r.weather[0].id,e.description=r.weather[0].description,e.location=r.name}).error(function(e){console.error("error reading weather")})}]),app.controller("widgetDoughnutController",["$scope","$rootScope","$http","$compile","widgetDoughnutService",function(e,t,r,o,i){e.title="Contracts chart",e.desc="Contracts chart description",e.chartPolarLabels=i.getLabels(),e.chartPolarColours=i.getColors(),i.getInfo().success(function(t){e.json=t,e.totalActive=e.json.active,e.totalNotActive=e.json.notActive,e.totalCancelled=e.json.cancelled,e.totalTerminated=e.json.terminated,e.chartPolarData=[e.totalActive,e.totalNotActive,e.totalCancelled,e.totalTerminated]}).error(function(e){console.error("error loading windget Polar")})}]),app.controller("widgetBarController",["$scope","$rootScope","$http","$compile","widgetBarService",function(e,t,r,o,i){e.title="Leads chart",e.desc="Leads chart description",i.getInfo().success(function(t){e.chartBarLabels=["Customers - Leads"],e.chartBarColours=["#ae9bce","#9d9d9d"],e.series=i.getLabels(),e.chartBarData=[[t.customers.total],[t.leads.total]]}).error(function(e){console.error("error loading windget Bar chart")}),e.chartBarOptions={}}]),app.controller("widgetDoughnutMController",["$scope","$rootScope","$http","$compile","widgetDoughnutMService",function(e,t,r,o,i){e.title="Advertising",e.description="People reached with email advertising",i.getInfo().success(function(e){Morris.Donut({element:"widgetDoughnutM",resize:!0,data:e,formatter:function(e){return e+"%"}}).on("click",function(e,t){console.log(e,t)})}).error(function(e){console.error("error loading windget Polar")})}]),app.controller("widgetLineController",["$scope","$rootScope","$http","$compile","widgetLineService",function(e,t,r,o,i){e.title="Sales",e.desc="Polar chart description",e.options={bezierCurve:!1},e.labels=["January","February","March","April","May","June","July"],e.series=["Sales 2015"],e.data=[[5e4,8e4,6e4,5e4,7e4,9e4,15e4]],e.onClick=function(e,t){console.log(e,t)}}]),app.controller("widgetGaugeController",["$scope","$rootScope","$http","$compile","widgetGaugeService",function(e,t,r,o,i){i.getInfo().success(function(t){e.title=t.title,e.description=t.description,e.gaugeValue=t.gaugeValue,e.loadGauge()}).error(function(e){console.error("error")}),window.addEventListener?window.addEventListener("changeDashboard",function(){e.loadGauge()},!0):console.warn("your browser does not support - changeDashboard"),e.loadGauge=function(){var t=0;t=$("#widgetGauge").parent().parent().height()-50,$("#widgetGauge").parent().width();var r=new Gauge({valueBox:{visible:!1},valueText:{visible:!1},renderTo:"widgetGauge",height:t,glow:!0,strokeTicks:!1,highlights:[{from:0,to:60,color:"#4caf50"},{from:60,to:80,color:"#FF9800"},{from:80,to:100,color:"#f44336"}],animation:{delay:10,duration:300,fn:"bounce"}});r.setValue(e.gaugeValue),r.draw()}}]),app.directive("widgetcircle",function(){return{restrict:"E",replace:!0,scope:{widgetcode:"@widgetcode"},templateUrl:"./app/widgets/widgetCirlcePercentage/widgetCircleView.html",controller:"widgetCircleController"}}),app.directive("widgetmap",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"./app/widgets/widgetMaps/view.html",controller:"widgetMapsController"}}),app.directive("widgettile",function(){return{restrict:"E",replace:!0,scope:{widgetcode:"@widgetcode",widgetTileClass:"@widgetTileClass",widgetTileIcon:"@widgetTileIcon"},templateUrl:"./app/widgets/widgetTile/widgetTileView.html",controller:"widgetTileController"}}),app.directive("widgetweather",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"./app/widgets/widgetWeather/widgetWeatherView.html",controller:"widgetWeatherController"}}),app.directive("widgetdoughnut",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"./app/widgets/widgetsChart/widgetDoughnut/widgetDoughnutView.html",controller:"widgetDoughnutController"}}),app.directive("widgetbar",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"./app/widgets/widgetsChart/widgetBar/widgetBarView.html",controller:"widgetBarController"}}),app.directive("widgetdoughnutm",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"./app/widgets/widgetsChart/widgetDoughnutM/widgetDoughnutMView.html",controller:"widgetDoughnutMController"}}),app.directive("widgetline",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"./app/widgets/widgetsChart/widgetLine/widgetLineView.html",controller:"widgetLineController"}}),app.directive("widgetgauge",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"./app/widgets/widgetsChart/widgetGauge/widgetGaugeView.html",controller:"widgetGaugeController"}}),app.filter("kelvin_celsius",function(){return function(e,t,r){return e-272.15}});